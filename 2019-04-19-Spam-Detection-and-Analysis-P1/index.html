










<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
  

  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-136585559-1"></script>

<!--Baidu Analytics-->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?d1cadc1a4b47fae5dc8e18e8501dc859";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>


<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-136585559-1');
</script>

<meta charset="utf-8">
<link rel="apple-touch-icon" sizes="76x76" href="../assets/img/apple-icon.png">
<link rel="icon" type="image/png" href="../assets/img/favicon.png">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Johnny's - Spam Detection and Analysis (Part 1 - Parsing)</title>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no" name="viewport">
<!--     Fonts and icons     -->
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css">
<link href="https://fonts.googleapis.com/css?family=Kaushan+Script|Pacifico" rel="stylesheet">


  
  
    <link rel="stylesheet" href="/css/af101.css">
  
    <link rel="stylesheet" href="/css/material-kit.css">
  
    <link rel="stylesheet" href="/css/demo.css">
  
    <link rel="stylesheet" href="/css/addon.css">
  
    <link rel="stylesheet" href="/css/likely.css">
  


</head>
<body class="profile-page sidebar-collapse">
  <nav class="navbar navbar-transparent navbar-color-on-scroll fixed-top navbar-expand-lg" color-on-scroll="100" id="sectionsNav">
  <div class="container">
    <div class="navbar-translate">
      <a class="navbar-brand page-title" href="/">
        Johnny's Blog </a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="sr-only">Toggle navigation</span>
        <span class="navbar-toggler-icon"></span>
        <span class="navbar-toggler-icon"></span>
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a href="/" class="nav-link">
            <i class="material-icons">home</i> Home
          </a>
        </li>
        <li class="nav-item">
          <a href="https://www.linkedin.com/in/johnny-li/" class="nav-link">
            <i class="material-icons">account_box</i> About Me
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>

  
  <div class="page-header" data-parallax="true" style="background-image: url('/img/bg2.jpg');"></div>

  <div class="main main-raised post-raised">
    <div class="profile-content">
      <div class="container">
      <article class="col-md-8 mr-auto ml-auto">
        <div class="card card-plain card-blog">
          <h2 class="card-blog-title title post-title">
          Spam Detection and Analysis (Part 1 - Parsing)
          </h2>
          <span class="card-bolg-title-date text-muted">
            <time datetime="2019-04-19T08:24:59.000Z">2019-04-19</time>&nbsp;&nbsp;
            
            <a href="/#data" title="View all posts in data" id="datatab">DATA
            </a>
            
              
            
          </span>
          <div class="card-image  mr-auto ml-auto post-image">
              <img data-opt-src="https://i.loli.net/2019/05/10/5cd50420b955f.png" src="https://i.loli.net/2019/05/10/5cd50420b955f.png" class="img-fluid img-raised rounded" alt data-opt-loaded="true" data-opt-lazy-loaded="true">
          </div>
          <div class="post-content">
            <p>Spam is still a common attack method. Most of the email services have spam filters that can help us block and filter out most of the emails with commercial, fraudulent and malicious content. The purpose of the project is to explore and analyze the email header to identify the features that can tell us which emails are malicious.<br><a id="more"></a></p>
<h2 id="Get-Email-Header-information"><a href="#Get-Email-Header-information" class="headerlink" title="Get Email Header information"></a>Get Email Header information</h2><p>First thing we need to do is the get the data. Email Header contents a lots of information that usually a email client do not show that to the users. However, most of those informations reveal more information about the sender. Therefore, we need to get Email Headers and parsing them for analysis.<br>I use Python’s <figure class="highlight plain"><figcaption><span>library to get email headers from my Gmail account Spam folder.</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&gt; For the script to work, Gmail IMAP Access need to be enabled. To enable IMAP for Gmail, please check this [instruction](https://support.google.com/mail/answer/7126229). You also need to either turn off 2-Step Verification for your Google account or set up an app password [here](https://myaccount.google.com/u/1/security).</span><br><span class="line"></span><br><span class="line">### Setup connection</span><br><span class="line"></span><br><span class="line">1. Import the required libraries.</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">import getpass</span><br><span class="line">import imaplib</span><br><span class="line">import email</span><br><span class="line">from email.parser import HeaderParser</span><br><span class="line">from email.header import decode_header</span><br><span class="line">import re</span><br><span class="line">import csv</span><br><span class="line">import pandas as pd</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">import requests</span><br><span class="line">import json</span><br></pre></td></tr></table></figure></p>
<ol start="2">
<li>Login to the Gmail</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'Email:'</span>)</span><br><span class="line">un = input()</span><br><span class="line">print(<span class="string">'Password'</span>)</span><br><span class="line">pw = getpass.getpass() <span class="comment"># hide passowrad with getpass() function.</span></span><br><span class="line">conn = imaplib.IMAP4_SSL(port = <span class="string">'993'</span>,host = <span class="string">'imap.gmail.com'</span>)</span><br><span class="line">conn.login(un,pw)</span><br></pre></td></tr></table></figure>
<h3 id="Download-Email-and-Parsing-Email-Header"><a href="#Download-Email-and-Parsing-Email-Header" class="headerlink" title="Download Email and Parsing Email Header"></a>Download Email and Parsing Email Header</h3><ol>
<li>Get email list.</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">conn.select(<span class="string">'[Gmail]/Spam'</span>) <span class="comment"># Get email form spam folder.</span></span><br><span class="line">type, emaildata = conn.search(<span class="literal">None</span>, <span class="string">'ALL'</span>)</span><br><span class="line">emaillist=emaildata[<span class="number">0</span>].split() <span class="comment"># Get email list.</span></span><br><span class="line">parser = HeaderParser()</span><br><span class="line">header_list=[]</span><br><span class="line">msg_text=[]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Read API key for ipstack.com from key.txt file.</span></span><br><span class="line">key_f=open(<span class="string">"key.txt"</span>,<span class="string">"r"</span>)</span><br><span class="line">key=key_f.readlines()[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>Parsing email</li>
</ol>
<p>Usually an email header looks like this:<br><img src="https://ws4.sinaimg.cn/large/006tNc79ly1g28pgwknggj30lo0ca75r.jpg" width="600"><br>What we want are:<br>|Name|Description|<br>|–|–|<br>|   <figure class="highlight plain"><figcaption><span>The Subject of Email  |</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">| ```Reply-To```| The reply address that when you click reply button in you Email client  |</span><br><span class="line">| ```Return-Path```|  The reply address that when you click reply button in you Email client |</span><br><span class="line">| ```IP``` |  The sender&apos;s IP address |</span><br><span class="line">| ```Received Time```| When is the email received |</span><br><span class="line">| ```From```| The senders&apos;s address  |</span><br><span class="line">| ```Date```| The date the message was sent|</span><br><span class="line">| ```Content-Type```| Indicated what contents in the email |</span><br><span class="line">|  ```Message``` | The email content |</span><br><span class="line">|  ```DMARC``` |  Domain-Based Message Authentication Reporting and Conformance |</span><br><span class="line">|  ```DKIM``` |  Domain Keys Identified Mail |</span><br><span class="line">|  ```ARC-Authentication-Results``` | Authenticated Received Chain  |</span><br><span class="line">|  ```SPF``` |  Sender Policy Framework |</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Now we need to parse each email in the emaillist by using for loop.</span><br><span class="line">```python</span><br><span class="line">for a in emaillist:</span><br><span class="line">    type, emaildata2 = conn.fetch(a, &apos;(RFC822)&apos;)</span><br><span class="line">    h = parser.parsestr(emaildata2[0][1].decode(&apos;utf-8&apos;,&apos;ignore&apos;))</span><br></pre></td></tr></table></figure></p>
<p>Some emails have an html format message. The html tags are not helping us in this project. Therefore, we can use <figure class="highlight plain"><figcaption><span>to get text from the email message.</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```python</span><br><span class="line">    for txt in h.walk():</span><br><span class="line">        if not txt.is_multipart():</span><br><span class="line">            msg_text = txt.get_payload(decode=True).decode(&apos;utf-8&apos;,&apos;ignore&apos;)</span><br><span class="line">    soup = BeautifulSoup(msg_text, &quot;lxml&quot;)</span><br><span class="line">    msg_text= soup.get_text(strip=True)</span><br></pre></td></tr></table></figure></p>
<p>Most information is clear and do not need clean and edit.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">header = &#123;&#125;</span><br><span class="line">header[<span class="string">'Subject'</span>]=decode_header(h[<span class="string">'Subject'</span>])[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line">header[<span class="string">'ARC-Authentication-Results'</span>]=h[<span class="string">'ARC-Authentication-Results'</span>].strip()</span><br><span class="line">header[<span class="string">'Return-Path'</span>]=h[<span class="string">'Return-Path'</span>].strip()</span><br><span class="line">header[<span class="string">'Return-Path Address'</span>]=re.findall(<span class="string">r'\b@\S*\b'</span>, str(h[<span class="string">'Return-Path'</span>].strip()))[<span class="number">0</span>]</span><br><span class="line">header[<span class="string">'Received'</span>]=h[<span class="string">'Received'</span>].strip()</span><br><span class="line">header[<span class="string">'Received-SPF'</span>]=h[<span class="string">'Received-SPF'</span>].strip()</span><br><span class="line">header[<span class="string">'Date'</span>]=pd.to_datetime(h[<span class="string">'Date'</span>].strip())</span><br><span class="line"><span class="keyword">if</span> <span class="string">'Reply-To'</span> <span class="keyword">in</span> h:</span><br><span class="line">    header[<span class="string">'Reply-To'</span>]=h[<span class="string">'Reply-To'</span>].strip()</span><br><span class="line">    header[<span class="string">'Reply-To Address'</span>]=re.findall(<span class="string">r'\b@\S*\b'</span>, str(h[<span class="string">'Reply-To'</span>].strip()))[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    header[<span class="string">'Reply-To'</span>]=<span class="string">''</span></span><br><span class="line">    header[<span class="string">'Reply-To Address'</span>]=<span class="string">''</span></span><br><span class="line">header[<span class="string">'Content-Type'</span>]=h[<span class="string">'Content-Type'</span>].strip().split(<span class="string">';'</span>)[<span class="number">0</span>]</span><br><span class="line">header[<span class="string">'From'</span>]=h[<span class="string">'From'</span>].strip()</span><br></pre></td></tr></table></figure></p>
<p>However, for the data contents many irrelevant information and need to be cleaned. I use Regular expression operations to extract only useful information.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> re.findall(<span class="string">r'\b@\S*\b'</span>,str(h[<span class="string">'From'</span>].strip())):</span><br><span class="line">    header[<span class="string">'From Address'</span>]=re.findall(<span class="string">r'\b@\S*\b'</span>,str(h[<span class="string">'From'</span>].strip()))[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    header[<span class="string">'From Address'</span>]=<span class="string">''</span></span><br><span class="line"><span class="comment">#header['Sender-ip']= re.findall(r'(?:(?:25[0-5]|2[0-4]\d|[01]?[0-9][0-9]?)\.)&#123;3&#125;(?:25[0-5]|2[0-4]\d|[01]?\d\d?)',str(header))</span></span><br><span class="line">header[<span class="string">'Message'</span>]= len(msg_text)</span><br><span class="line"><span class="keyword">if</span> re.findall(<span class="string">r'\bip=\S*\b'</span>,str(header)):</span><br><span class="line">    header[<span class="string">'IP'</span>]=re.findall(<span class="string">r'\bip=\S*\b'</span>,str(header))[<span class="number">0</span>].split(<span class="string">'='</span>)[<span class="number">1</span>]</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    header[<span class="string">'IP'</span>]=<span class="string">''</span></span><br><span class="line"><span class="keyword">if</span> re.findall(<span class="string">r'\bspf=\S*\b'</span>,str(header)):</span><br><span class="line">    header[<span class="string">'SPF'</span>]=re.findall(<span class="string">r'\bspf=\S*\b'</span>,str(header))[<span class="number">0</span>].split(<span class="string">'='</span>)[<span class="number">1</span>]</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    header[<span class="string">'SPF'</span>]=<span class="string">''</span></span><br><span class="line"><span class="keyword">if</span> re.findall(<span class="string">r'\bdmarc=\S*\b'</span>,str(header)):</span><br><span class="line">    header[<span class="string">'DMARC'</span>]=re.findall(<span class="string">r'\bdmarc=\S*\b'</span>,str(header))[<span class="number">0</span>].split(<span class="string">'='</span>)[<span class="number">1</span>]</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    header[<span class="string">'DMARC'</span>]=<span class="string">''</span></span><br><span class="line"><span class="keyword">if</span> re.findall(<span class="string">r'\bdkim=\S*\b'</span>,str(header)):</span><br><span class="line">    header[<span class="string">'DKIM'</span>]=re.findall(<span class="string">r'\bdkim=\S*\b'</span>,str(header))[<span class="number">0</span>].split(<span class="string">'='</span>)[<span class="number">1</span>]</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    header[<span class="string">'DKIM'</span>]=<span class="string">''</span></span><br></pre></td></tr></table></figure></p>
<p>I use the api of ipstack.com to convert IP to geographic location.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">address = <span class="string">"http://api.ipstack.com/"</span>+header[<span class="string">'IP'</span>]+<span class="string">"?access_key="</span>+key    </span><br><span class="line">response = requests.get(address)</span><br><span class="line">ipjason = response.text</span><br><span class="line">iplist = json.loads(ipjason)</span><br><span class="line">header[<span class="string">'Country'</span>]= iplist.get(<span class="string">'country_name'</span>)</span><br><span class="line">header[<span class="string">'Regin'</span>]= iplist.get(<span class="string">'region_name'</span>)</span><br><span class="line">header[<span class="string">'City'</span>]= iplist.get(<span class="string">'city'</span>)</span><br><span class="line"><span class="keyword">if</span> iplist.get(<span class="string">'type'</span>)== <span class="string">'ipv6'</span> :</span><br><span class="line">    header[<span class="string">'IPv6 Indicator'</span>]= <span class="number">1</span></span><br><span class="line"><span class="keyword">elif</span> iplist.get(<span class="string">'type'</span>)== <span class="string">'ipv4'</span> :</span><br><span class="line">    header[<span class="string">'IPv6 Indicator'</span>]= <span class="number">0</span></span><br><span class="line">header_list.append(header)</span><br><span class="line"></span><br><span class="line"><span class="comment"># For Loop END</span></span><br></pre></td></tr></table></figure></p>
<p>For consistent analysis, I save the DatFrame into a CSV file for further analysis.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">keys = header_list[<span class="number">0</span>].keys()</span><br><span class="line">print(<span class="string">'File Name:'</span>)</span><br><span class="line">fn = input()</span><br><span class="line"><span class="keyword">with</span> open(fn+<span class="string">'.csv'</span>, <span class="string">'w'</span>) <span class="keyword">as</span> output_file:</span><br><span class="line">    dict_writer = csv.DictWriter(output_file, keys)</span><br><span class="line">    dict_writer.writeheader()</span><br><span class="line">    dict_writer.writerows(header_list)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>This is the Part 1 of the series. For how to user R analysis the email, please check <a href="https://lijohnny.com/2019-05-09-Spam-Detection-and-Analysis-P2/">Part 2</a></p>
</blockquote>

          </div>
          
          <div class="row">
              <ul class="nav card-bolg-title-tag post-title-tag mr-auto ml-auto ">
                
                <li class>
                  <a href="/tags/Python/" title="View all posts in Python">#Python
                  
                  ,&nbsp;
                  
                  </a>
                </li>
                
                <li class>
                  <a href="/tags/Regression/" title="View all posts in Regression">#Regression
                  
                  ,&nbsp;
                  
                  </a>
                </li>
                
                <li class>
                  <a href="/tags/Analysis/" title="View all posts in Analysis">#Analysis
                  
                  ,&nbsp;
                  
                  </a>
                </li>
                
                <li class>
                  <a href="/tags/R/" title="View all posts in R">#R
                  
                  ,&nbsp;
                  
                  </a>
                </li>
                
                <li class>
                  <a href="/tags/Parsing/" title="View all posts in Parsing">#Parsing
                  
                  ,&nbsp;
                  
                  </a>
                </li>
                
                <li class>
                  <a href="/tags/BeautifulSoup/" title="View all posts in BeautifulSoup">#BeautifulSoup
                  
                  ,&nbsp;
                  
                  </a>
                </li>
                
                <li class>
                  <a href="/tags/Spam/" title="View all posts in Spam">#Spam
                  
                  ,&nbsp;
                  
                  </a>
                </li>
                
                <li class>
                  <a href="/tags/Email/" title="View all posts in Email">#Email
                  
                  
                  </a>
                </li>
                
              </ul>
           </div>
           <div class="card-bolg-bottom-line"></div>
           <div class="row">
             <div class="post-share mr-auto ml-auto">
              <div class="likely likely-small">
                <div class="twitter">Tweet</div>
                <div class="facebook">Share</div>
                <div class="linkedin">Link</div>
                <div class="whatsapp">Send</div>
              </div>
            </div>
           </div>
           <div class="card-bolg-bottom-line"></div>
           <div class="row post-prevnext">
           
             
               <div class="post-prev post-prev-small  col-lg-6">
                <a class="post-prev-arrow" href="/2019-05-04-Maching Learning and Price Strategy for Amazon Cloud Cam/" title="Maching Learning and Price Strategy for Amazon Cloud Cam" rel="prev">
                  <i class="fa fa-angle-double-left"></i>
                </a>
                <div class="post-prev-img">
                  <a href="/2019-05-04-Maching Learning and Price Strategy for Amazon Cloud Cam/" title="Maching Learning and Price Strategy for Amazon Cloud Cam" rel="prev">
                    <img src="https://i.loli.net/2019/05/10/5cd50a8799440.png" class="rounded" alt="Maching Learning and Price Strategy for Amazon Cloud Cam" srcset=" " data-src="https://i.loli.net/2019/05/10/5cd50a8799440.png" data-sizes data-srcset=" " sizes>
                  </a>
                </div>
                <div class="post-prev-wrapper">
                  <a href="/2019-05-04-Maching Learning and Price Strategy for Amazon Cloud Cam/" title="Maching Learning and Price Strategy for Amazon Cloud Cam" rel="prev">
                    <span class="post_navigation_title title">Previous Post:</span>
                  </a>
                  <h4 class="title post-prevnext-title">
                    <a href="/2019-05-04-Maching Learning and Price Strategy for Amazon Cloud Cam/">
                      Maching Learning and Price Strategy for Amazon Cloud Cam
                    </a>
                  </h4>
                </div>
               </div>
             
             
               <div class="post-next col-lg-6">
                <a class="post-next-arrow" href="/2019-04-06-solve-the-problem-in-a-april-fools-joke/" title="Solve the Problem in a April Fool's Joke" rel="next">
                  <i class="fa fa-angle-double-right"></i>
                </a>
                <div class="post-next-img">
                  <a href="/2019-04-06-solve-the-problem-in-a-april-fools-joke/" title="Solve the Problem in a April Fool's Joke" rel="next">
                    <img src="https://i.loli.net/2019/04/27/5cc38cc539c01.jpg" class="rounded" alt="Solve the Problem in a April Fool's Joke" srcset=" " data-src="https://i.loli.net/2019/04/27/5cc38cc539c01.jpg" data-sizes data-srcset=" " sizes>
                  </a>
                </div>
                <div class="post-next-wrapper">
                  <a href="/2019-04-06-solve-the-problem-in-a-april-fools-joke/" title="Solve the Problem in a April Fool's Joke" rel="next">
                    <span class="post_navigation_title title">Next Post:</span>
                  </a>
                  <h4 class="title post-prevnext-title">
                    <a href="/2019-04-06-solve-the-problem-in-a-april-fools-joke/">Solve the Problem in a April Fool's Joke</a>
                  </h4>
                </div>
              </div>
            
           
           </div>
           <div class="card-bolg-bottom-line"></div>


          

            

          <div class="card-bolg-bottom-line"></div>

           <div class="comments" id="comments">
             <div id="disqus_thread">
               <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
             </div>
           </div>

         
      </div></article>

    </div>


    </div>
  </div>


  <div id="paginator">
    
  </div>



  <footer class="footer footer-default">
  <div class="container">
    <div class="copyright">Copyright
      &copy;
      <script>
        document.write(new Date().getFullYear())
      </script>&nbsp;by Johnny Li. All rights reserved.

    <p>Powered by HEXO | Based on <a href="https://demos.creative-tim.com/material-kit/"> Material Kit</a>
    </p>
    </div>
  </div>

</footer>

  
  
    <script src="/js/core/jquery.min.js"></script>
  
    <script src="/js/core/popper.min.js"></script>
  
    <script src="/js/core/bootstrap-material-design.min.js"></script>
  
    <script src="/js/plugins/moment.min.js"></script>
  
    <script src="/js/plugins/bootstrap-datetimepicker.js"></script>
  
    <script src="/js/plugins/nouislider.min.js"></script>
  
    <script src="/js/material-kit.js"></script>
  
    <script src="/js/likely.js"></script>
  
    <script src="/js/af101.js"></script>
  

<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async></script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });
  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') { next = next.nextSibling }
        if (next && next.nodeName.toLowerCase() === 'br') { next.parentNode.removeChild(next) }
      }
    });
  });
</script>



  <script id="dsq-count-scr" src="https://j84lee-github-io.disqus.com/count.js" async></script>


<script>
  var disqus_config = function() {
    this.page.url = "https://lijohnny.com/2019-04-19-Spam-Detection-and-Analysis-P1/";
    this.page.identifier = "2019-04-19-Spam-Detection-and-Analysis-P1/";
    this.page.title = 'Spam Detection and Analysis (Part 1 - Parsing)';
    };
  function loadComments() {
    var d = document, s = d.createElement('script');
    s.src = 'https://j84lee-github-io.disqus.com/embed.js';
    s.setAttribute('data-timestamp', '' + +new Date());
    (d.head || d.body).appendChild(s);
  }
  
    loadComments();
  
</script>




<script type="text/javascript">
  $("#uxtab").on("click", function() {
  $('#uxnav').addClass("active").parent("li").siblings().find("a").removeClass("active");
  $("#ux").removeClass("fade").addClass("active").addClass("show");
  $("#tabContent").removeClass("active").removeClass("show");
  });
  $("#datatab").on("click", function() {
  $('#datanav').addClass("active").parent("li").siblings().find("a").removeClass("active");
  $("#data").removeClass("fade").addClass("active").addClass("show");
  $("#tabContent").removeClass("active").removeClass("show");
  });
  $("#blogtab").on("click", function() {
  $('#blognav').addClass("active").parent("li").siblings().find("a").removeClass("active");
  $("#blog").removeClass("fade").addClass("active").addClass("show");
  $("#tabContent").removeClass("active").removeClass("show");
  });



  $('.post-content img')
    .not(':hidden')
    .each(function() {
      var $image = $(this);
      var imageTitle = $image.attr('title') || $image.attr('alt');
      var $imageWrapLink = $image.parent('a');

      if ($imageWrapLink.length < 1) {
        var imageLink = $image.attr('data-original') || $image.attr('src');
        $imageWrapLink = $image.wrap('<a class="fancybox fancybox.image post-image-link" href="' + imageLink + '" itemscope itemtype="http://schema.org/ImageObject" itemprop="url"></a>').parent('a');
        if ($image.is('.post-gallery img')) {
          $imageWrapLink.addClass('post-gallery-img');
          $imageWrapLink.attr('data-fancybox', 'gallery').attr('rel', 'gallery');
        }
        else if ($image.is('.group-picture img')) {
          $imageWrapLink.attr('data-fancybox', 'group').attr('rel', 'group');
        }
        else {
          $imageWrapLink.attr('data-fancybox', 'default').attr('rel', 'default');
        }
      }

      if (imageTitle) {
        $imageWrapLink.append('<p class="image-caption">' + imageTitle + '</p>');
        // Make sure img title tag will show correctly in fancybox
        $imageWrapLink.attr('title', imageTitle).attr('data-caption', imageTitle);
      }
    });

  $('.fancybox').fancybox({
    loop: true,
    helpers: {
      overlay: {
        locked: false
      }
    }
  });
</script>

</body>
</html>
